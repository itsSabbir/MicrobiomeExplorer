---
title: "A tour of MicrobiomeExplorer"
author: "Sabbir Hossain"
date: "`r format(Sys.time(), '%d %b %Y')`"
output: 
  rmarkdown::html_vignette:
    toc: true
    number_sections: false
vignette: >
  %\VignetteIndexEntry{A tour of MicrobiomeExplorer}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---


```{r setup, include=FALSE}
library(knitr)
opts_chunk$set(fig.align = "center", 
               out.width = "90%",
               fig.width = 6, fig.height = 5.5,
               dev.args=list(pointsize=10),
               collapse = TRUE,
               warning = FALSE)
set.seed(1) # for exact reproducibility
```

## Introduction

`MicrobiomeExplorer` is an R package designed to facilitate the analysis and visualization of microbiome datasets. It includes functions to calculate statistical metrics, normalize data, and create comprehensive heatmaps for exploratory data analysis. **This document provides a guide to using the MicrobiomeExplorer package (version 0.1.0)**.

To install **MicrobiomeExplorer**, run the following commands:

You must first install its dependencies. Notably, phyloseq and ComplexHeatmap are available through Bioconductor, not CRAN, and require Bioconductor's installation methods.

Please run the following commands to install the current version of the dependency packages:

```r
# Install BiocManager if not already installed
if (!requireNamespace("BiocManager", quietly = TRUE))
    install.packages("BiocManager")

# Install dependencies from Bioconductor
BiocManager::install(c("phyloseq", "ComplexHeatmap"), force = TRUE)

# Load the each of dependancy packages
library(ComplexHeatmap)
library(phyloseq)
```

To install the current version of `MicrobiomeExplorer` from GitHub, use:
```r
# Install devtools if not already installed
if (!requireNamespace("devtools", quietly = TRUE))
    install.packages("devtools")
    
# Install MicrobiomeExplorer from GitHub
devtools::install_github("itsSabbir/MicrobiomeExplorer", build_vignettes = TRUE)

# Load MicrobiomeExplorer
library(MicrobiomeExplorer)

```

To list all functions available in the package:
``` r
ls("package:MicrobiomeExplorer")
```

To list all datasets available in the package:
``` r
data(package = "MicrobiomeExplorer")
```

<br>

## Using MicrobiomeExplorer

### Data Preparation

Before analyzing your microbiome data, ensure it is in the correct format: a matrix or dataframe with rows representing samples and columns representing taxa.

Run the R following code block to generate some data called microbiome_example to be used in the vignettes:
```r
# Mock Microbiome Dataframe Creation
set.seed(123)  # For reproducibility
sample_size <- 10  # Number of samples
taxa_number <- 5   # Number of microbial taxa

# Create a dataframe with random counts
microbiome_example <- as.data.frame(matrix(rnorm(sample_size * taxa_number, mean = 10, sd = 5),
                                        nrow = sample_size,
                                        ncol = taxa_number))
colnames(microbiome_example) <- paste("Taxa", 1:taxa_number, sep = "_")
rownames(microbiome_example) <- paste("Sample", 1:sample_size, sep = "_")
```

### Calculating Statistics

Use the `calculate_stats` function to compute extended statistics for your dataset:

``` r
# Example dataset
data(microbiome_example)

# Calculate statistics
stats <- MicrobiomeExplorer::calculate_stats(microbiome_example)
print(stats)
```

### Visualizing Data

Visualize your microbiome data with a heatmap using the `plot_microbiome_heatmap` function:

``` r
# Generate a heatmap
heatmap_result <- MicrobiomeExplorer::plot_microbiome_heatmap(microbiome_example, normalize = TRUE)
print(heatmap _result)
```

<br>

## Conclusion

The `MicrobiomeExplorer` package provides an easy-to-use set of tools for microbiome data analysis, allowing researchers to quickly calculate key statistics and visualize their data. For any further details, consult the function-specific help pages.

<br>

## Session Information

It's always a good practice to include the session information in vignettes:

```{r}
sessionInfo()
```
```
